# 任务管理系统提示词

## 概述
为了在多种工具（IDE+LLM）中流转任务，我们设计这个任务管理系统
它基于文件系统，使用 CSV 文件作为索引，实现任务的创建、更新、删除和搜索功能。每个任务存储为一个 JSON 文件，文件名使用 UUID。

## 角色定义
- User（用户）：需求方，一般是真人。
- PM（项目经理）：负责任务分配、优先级管理和进度跟踪。
- Dev（开发者）：负责任务的具体实现和问题解决。

## 文件结构
- `ai/var/tasks/`：存储任务文件，文件名格式为 `UUID.json`。
- `ai/var/tasks/tasks.csv`：CSV 索引文件，包含以下字段：
  - UUID
  - 标题
  - 状态
  - 优先级
  - 发送者
  - 接收者
  - 创建时间
  - 更新时间

## 操作说明

### 创建任务
1. 生成新的 UUID。
2. 创建新的 JSON 文件，文件名格式为 `UUID.json`。
3. 在 CSV 文件中添加新记录。

### 更新任务
1. 读取任务文件并更新内容。
2. 更新 CSV 文件中的相应字段。

### 删除任务
1. 删除任务文件。
2. 从 CSV 文件中移除相应记录。

### 搜索任务
1. 根据标题、状态、优先级等条件搜索任务。
2. 返回匹配的任务文件和 CSV 记录。

### 清理任务
1. 查找所有状态为【已完成】或【已撤回】且更新时间超过 24 小时的任务。
2. 将这些任务文件移动到 `ai/var/tasks/archived/` 目录。
3. 从 CSV 文件中移除相应记录。

## 数据格式

### 任务文件 (UUID.json)
```json
{
  "id": "任务 UUID",
  "title": "任务标题",
  "description": "任务描述",
  "status": "任务状态（待办、进行中、已完成等）",
  "priority": "任务优先级（高、中、低）",
  "发送者": "任务发送者角色",
  "接收者": "任务接收者角色",
  "created_at": "任务创建时间（ISO 8601 格式）",
  "updated_at": "任务更新时间（ISO 8601 格式）"
}