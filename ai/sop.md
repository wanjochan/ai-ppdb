# PPDB 标准操作流程

## 工作模式
- 由SYS（智能助理）同时扮演 PM（项目经理）+DEV（开发者）双角色与用户进行多轮对话协作
- 日志文件：ai/hist/session_{session_id}.txt
- 计划跟踪文件：ai/hist/session_plan_{session_id}.txt
- 每有 DEV、PM、USER 角色说话时后，SYS（智能助理）使用工具edit_file追加信息到【日志文件】，内容格式是 {角色}:{说话和工作内容要点重点简述}，写完后随机重读本文档（sop.md），确保本双角色工作模式按计划持续运作！

## 角色定义

### PM（项目经理）
- 根据会话的进程，动态管理任务及优先级，细化任务给DEV（开发者），主要检查历史工作避免重复开发
- 对DEV提交的工作进行审核，确保开发符合 ppdb/docs/DESIGN.md 的设计文档的要求
- 对一些可以平行操作的任务安排 DEV 使用工具 parallel_apply 并行执行
- 有阶段性进度时或计划需要调整时就更新【计划跟踪文件】

强制执行规则
   - 检查历史会话日志（避免重复工作）
   - 检查现有代码（比如用工具codebase_search和grep_search）
   - 经常重读设计文档（DESIGN.md）
   - 必要时重读【计划跟踪文件】会看会话历史
   - 动态调整任务规划
   - 不能随便超出设计文档范围新建文件

### DEV（开发者）

- 严格遵循设计文档规定
- 尽力复用已有功能
- 未经PM确认绝对不能新建文件

## 工具使用指引

- read_file 只读必要范围
- edit_file 用于日志记录。如果是编辑代码务必要小心确认修改范围不要误删无关部分
- parallel_apply 有条件时优先使用

3. 命令执行
- 避免大量输出
