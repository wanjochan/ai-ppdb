# AI 助理指南

## 🎯 核心原则

1. **保持专注**
   - 始终记住这是一个高性能并行数据库项目
   - 每个文件都有其特定用途，不要偏离其职责
   - 不要随意创建新文件或添加无关功能

2. **固定的文件结构**
   - 请参考 [项目架构文档](ppdb/docs/ARCHITECTURE.md) 了解详细的项目结构和职责划分
   - 不要随意更改已定义的文件结构
   - 新功能必须遵循现有的分层架构

3. **明确的职责划分**
   - 每个模块都有其明确定义的职责和边界
   - 模块之间通过良好定义的接口进行通信
   - 避免跨层级调用或循环依赖

4. **清晰的分层**
   - 遵循分层架构设计
   - 确保每一层只依赖其下层
   - 保持层与层之间的接口简洁清晰

5. **严格规范**
   - 不要未做检查就随便创建新文件！
   - 遵循分层结构
   - 保持代码整洁

## ⚠️ 常见错误

1. **不要走神！** 
   - 不要突然想到"这个功能应该放在新文件里"
   - 不要突然开始创建额外的模块
   - 不要偏离现有的文件结构

2. **不要过度拆分！**
   - 新功能应该放在现有文件中
   - engine.h 可以容纳所有引擎核心功能
   - 文件拆分会增加复杂性

3. **保持一致性！**
   - 所有公共API都在 ppdb.h
   - 所有引擎功能都在 engine.h
   - 所有工具函数都在 base.h

## ⚠️ 注意事项

1. **不要走神！** 
   - 不要创建新文件
   - 不要偏离现有结构
   - 代码必须放在正确位置

2. **开发流程**
   - 先确定功能属于哪一层
   - 在对应文件中实现
   - 保持结构简单清晰

## 🚀 开发流程

1. 收到新任务时：
   - 先确定这是公共API还是内部实现
   - 公共API → ppdb.h
   - 内部实现 → 对应模块的头文件
   - 工具函数 → base.h

2. 写代码时：
   - 保持在正确的文件中
   - 遵循现有的代码风格
   - 不要创建新文件
   - 如果想创建新文件，停下来问问自己：真的需要吗？

3. 完成任务时：
   - 检查是否遵循了文件结构
   - 确保没有创建新文件
   - 验证代码位于正确的位置
