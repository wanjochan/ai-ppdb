diff --git a/configure b/configure
index xxxxxxx..xxxxxxx 100755
--- a/configure
+++ b/configure
@@ -37,6 +37,7 @@ cpu=`uname -m`
 # OS specific
 targetos=`uname -s`
 osversion=`uname -r`
+enable_cosmo="no"
 
 # find source path
 source_path=${0%configure}
@@ -172,6 +173,8 @@ for opt do
   ;;
   --enable-cross) enable_cross=yes
   ;;
+  --enable-cosmo) enable_cosmo=yes
+  ;;
   --enable-static) enable_static=yes
   ;;
   --disable-static) enable_static=no
@@ -183,6 +186,8 @@ for opt do
   ;;
   --with-libgcc) with_libgcc=yes
   ;;
+  --with-cosmo=*) cosmo_path=${opt#--with-cosmo=}
+  ;;
   --help|-h) show_help=yes
   ;;
   *) echo "configure: WARNING: unrecognized option $opt"
@@ -228,6 +233,11 @@ if test "$mingw32" = "yes" ; then
     cross_prefix="$prefix"
 fi
 
+# Add Cosmopolitan support
+if test "$enable_cosmo" = "yes" ; then
+    CFLAGS="$CFLAGS -DCONFIG_COSMO"
+fi
+
 # write the config file
 cat >config.h <<EOF
 /* Automatically generated by configure - do not modify */
@@ -238,6 +248,12 @@ cat >config.h <<EOF
 #define GCC_MAJOR $gcc_major
 #define GCC_MINOR $gcc_minor
 
+/* Cosmopolitan support */
+#if defined(CONFIG_COSMO)
+#define CONFIG_COSMO 1
+#define COSMO_PATH "$cosmo_path"
+#endif
+
 /* Define to 1 if you have the <dlfcn.h> header file. */
 #define HAVE_DLFCN_H $have_dlfcn_h
